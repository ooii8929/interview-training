<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>
  <style>
    #codeeditor {
      width: 50%;
    }
  </style>
  <script>
    let codeNow = 1;
  </script>
  <body>
    <h1>CodeMirror 7</h1>

    <form>
      <div id="codeeditor"></div>

      <input type="submit" value="Submit" onclick="sendto()" />
    </form>
    <div id="aaa" onclick="sendto()">click</div>
    <div id="ans"></div>
    <script src="editor.bundle.js"></script>
    <script>
      function sendto() {
        console.log(codeNow);
        axios
          .post("http://localhost:3030/api", {
            content: codeNow,
          })
          .then(function (response) {
            document.querySelector("#ans").textContent = response.data;
            // handle success
            console.log(response);
          })
          .catch(function (error) {
            // handle error
            console.log(error);
          })
          .then(function () {
            // always executed
          });
      }
    </script>
  </body>
</html>
